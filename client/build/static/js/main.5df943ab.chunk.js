(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(57)},34:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(27),l=a.n(c),r=(a(34),a(35),a(7)),i=a(1),s=a(8),m=function(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12"},o.a.createElement("div",{className:"card amber lighten-5"},o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"input-field white-text",style:{dasdjfcolor:"#FFFAF0"}},o.a.createElement("input",{onChange:e.handleInputChange,placeholder:"Find a book",id:"search-bar",type:"text",className:"validate"})),o.a.createElement("button",{className:"btn-floating pulse halfway-fab waves-effect waves-light btn",onClick:e.handleSubmit},o.a.createElement("i",{className:"material-icons left"},"search"))))))},u=function(e){return o.a.createElement("div",{className:"row"},e.children)},d=function(e){return o.a.createElement("div",{className:"col s12 m6 l4"},o.a.createElement("div",{className:"card large amber lighten-4"},o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:e.book.image?e.book.image:"https://img.jakpost.net/c/2019/03/02/2019_03_02_66706_1551461528._large.jpg"}),o.a.createElement("h4",{className:"card-title amber lighten-5",style:{opacity:.6}},o.a.createElement("a",{className:"black-text waves-effect",href:e.book.link?e.book.link:"https://books.google.com/"},e.book.title?e.book.title:"Book Title")),o.a.createElement("button",{className:"btn-floating halfway-fab waves-effectbtn",onClick:e.handleSubmit,style:{bottom:"5px"}},o.a.createElement("i",{className:"material-icons left red"},e.saved?"remove":"add"))),o.a.createElement("div",{className:"card-content"},o.a.createElement("h6",null,o.a.createElement("strong",null," ",e.book.authors?e.book.authors:"Unknown"," "),"(",e.book.publishedDate?e.book.publishedDate:"0000",")"),o.a.createElement("p",{style:{fontSize:"12px"}},e.book.description?e.book.description:"No Description"))))},f=a(12),v=a.n(f),h=function(e,t){var a=Object(n.useState)(e),o=Object(s.a)(a,2),c=o[0],l=o[1];return Object(n.useEffect)(function(){var a=setTimeout(function(){l(e)},t);return function(){clearTimeout(a)}},[e,t]),c},b=a(10),p=a.n(b),E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("jane eyre"),r=Object(s.a)(l,2),i=r[0],f=r[1],b=h(i,500);Object(n.useEffect)(function(){i&&b&&E()},[b]);var E=function(){var e;(e=i,v.a.get("/api/books",{params:{q:e}})).then(function(e){e.data.items?c(e.data.items):c([])}).catch(function(e){c([])})},g=function(e){var t;(t=e,v.a.post("/api/saved",t)).then(function(t){p.a.toast({html:"".concat(e.title," has been saved")})}).catch(function(e){return console.log(e.response)})};return o.a.createElement("div",null,o.a.createElement(m,{handleInputChange:function(e){f(e.target.value)},handleSubmit:function(e){e.preventDefault()}}),o.a.createElement(u,null,a.length>0?a.map(function(e){var t={title:e.volumeInfo.title?e.volumeInfo.title:"unknown",authors:e.volumeInfo.authors?e.volumeInfo.authors:"unknown",description:e.volumeInfo.description?e.volumeInfo.description.substring(0,325)+"...":"...",publishedDate:e.volumeInfo.publishedDate?e.volumeInfo.publishedDate.substring(0,4):"unknown",pageCount:e.volumeInfo.pageCount?e.volumeInfo.pageCount:"unknown",link:e.volumeInfo.previewLink,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:""};return o.a.createElement(d,{key:e.id,saved:!1,book:t,handleSubmit:function(){return g(t)}})}):o.a.createElement("div",{className:"row center-align",style:{padding:"25px",width:"100%"}},"No books found... try another search")))},g=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){l()},[]);var l=function(){v.a.get("/api/saved").then(function(e){c(e.data)}).catch(function(e){return console.log(e.responses)})},r=function(e){(function(e){return v.a.delete("/api/saved/"+e)})(e).then(function(e){l(),p.a.toast({html:"Book has been removed"})}).catch(function(e){return console.log(e.response)})};return o.a.createElement("div",null,o.a.createElement(u,null,a.length>0?a.map(function(e){return o.a.createElement(d,{key:e._id,saved:!0,book:e,handleSubmit:function(){return r(e._id)}})}):o.a.createElement("div",{className:"row center-align",style:{padding:"25px",width:"100%"}},"You have not saved any books!")))},k=function(){var e=Object(i.f)();return Object(n.useEffect)(function(){var e=document.querySelector("#mobile-menu");p.a.Sidenav.init(e,{})},[]),o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement("div",{className:"nav-wrapper"},o.a.createElement(r.b,{to:"/",className:"brand-logo"},o.a.createElement("img",{src:"./favicon.ico"})),o.a.createElement("a",{href:"#","data-target":"mobile-menu",className:"sidenav-trigger"},o.a.createElement("i",{className:"material-icons"},"menu")),o.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},o.a.createElement("li",{className:"/search"===e.pathname?"active":""},o.a.createElement(r.b,{to:"/search"},o.a.createElement("i",{className:"material-icons"},"search"))),o.a.createElement("li",{className:"/saved"===e.pathname?"active":""},o.a.createElement(r.b,{to:"/saved"},o.a.createElement("i",{className:"material-icons"},"bookmark")))))),o.a.createElement("ul",{className:"sidenav",id:"mobile-menu"},o.a.createElement("li",null,o.a.createElement(r.b,{to:"/search"},"Search")),o.a.createElement("li",null,o.a.createElement(r.b,{to:"/saved"},"Saved"))))},w=function(e){return o.a.createElement("div",{className:"container"},e.children)};var N=function(){return o.a.createElement(r.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(k,null),o.a.createElement(w,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:E}),o.a.createElement(i.a,{exact:!0,path:"/search",component:E}),o.a.createElement(i.a,{exact:!0,path:"/saved",component:g})))))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(N,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");j?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):y(e)})}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.5df943ab.chunk.js.map